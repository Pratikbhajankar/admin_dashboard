<div class="col-md-12 col-sm-12 col-xs-12" ng-hide="previewMode">
<div class="pull-left">
<h3 >Create a new form</h3>
</div>
<div class="pull-right">
	<a data-ng-href="#/formDataReport/{{$parent.servicesData.formBuilder.Id}}" class="btn btn-warning btn-sm pull-right">Report</a>
</div>
</div>


<p ng-hide="previewMode">Select field type you want to add to the form below and click on 'Add Field' button. Don't forget to set field properties. After you finish creating the form, you can preview the form by clicking Preview Form button.</p>
<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="form-fields" ng-hide="previewMode">
        <div class="form-properties">
           
            <div class="row">
            	<!-- <div class="col-md-4 col-sm-4 col-xs-4">
            		 <h3>Form Properties</h3>
            	</div> -->
            	<div class="col-md-8 col-sm-8 col-xs-8">
            		<div class="col-md-4 col-sm-4 col-xs-4">
            			<h4>Form Name:</h4> 
            		</div>
            		<div class="col-md-8 col-sm-8 col-xs-8">
            			<input type="text" name="form-name" ng-disabled="previewMode" class="form-control" style="width: 250px;" ng-model="form.formname">
            		</div>
            	</div>
                         
            </div>
        </div>

        <hr>
        <div class="panel-default">
	        <div class="col-md-12 col-sm-12 col-xs-12">
	        	<div class="col-md-3 col-sm-3 col-xs-3">
				<h4>Fields</h4>
				
			</div>
	        <div class="col-md-8 col-sm-8 col-xs-8">
	        	
	        	<div class="add-field col-md-12 col-sm-12 col-xs-12">
		        		<div class="col-md-5 col-sm-5 col-xs-5">
		        			<input type="text" placeholder="Please enter field name" class="form-control" data-ng-model = "addField.fildName">
		        		</div>
		        		<div class="col-md-5 col-sm-5 col-xs-5">
		        			<select data-ng-model="addField.new" data-ng-change="inputTypeChange()"  data-ng-options="type.name as type.value for type in addField.types" class="form-control">
		        			</select>
		        		</div>
		        		<div class="col-md-2 col-sm-2 col-xs-2">
		        			<button type="submit" class="btn btn-info" ng-click="addNewField()"><i class="fa fa-plus"></i> Add Field</button>
		        		</div>
		        		
		        		
			            
			             <!--  {{isOptionfiledShow}} -->
		        	</div>
		        	<div class="col-md-12 col-sm-12 col-xs-12">
		        		<div class="form-group col-md-12 col-sm-12 col-xs-12" ng-show="isOptionfiledShow">
		                     
		                       <h5>Field Options:</h5>
		                       <div class="">
		                           <div class="col-md-12 col-sm-12 col-xs-12" ng-repeat="option in addField.fieldoptions">
		                           <div class="col-md-5 col-sm-5 col-xs-5">
		                           	<input type="text" ng-model="option.optiontitle"
		                                class="form-control" value="{{option.optiontitle}}" style="width: 180px;">
		                           </div> 
		                           <div class="col-md-3 col-sm-3 col-xs-3"><a class="btn btn-danger btn-mini right" type="button" ng-click="deleteOption(addField, option)"><i class="fa fa-trash-o"></i></a></div>
		                               
		                               	
		                              <!--  <span class="label label-info">Value: {{ option.optionvalue }}</span> -->
		                           </div>
		                           <div class="col-md-12 col-sm-12 col-xs-12">
		                           	<button class="btn btn-primary btn-small" type="button" ng-click="addOptionnew(addField)"><i class="fa fa-plus"></i> Add Option</button>
		                           </div>
		                           
		                       </div>
		                   </div>
		        	</div>
		        	{{fildMasg}}
				</div>
				
		    </div>
			
	       
	        
	       
	       <div class="col-md-12 col-sm-12 col-xs-12">
	       <hr>
	       <!-- {{form.formfields}} -->
		       	<p ng-show="massage">{{massage}}</p>
		       	<p ng-show="form.formfields.length == 0">No fields added yet.</p>
		       	<ul id="proposalAccordian" class="panel-group" 
		       	
		       	droppable='form.formfields'
                ng-move='moveObject(from, to, fromList, toList)'
                ng-create='createObject(object, to, list)' style="list-style: none;">
		        <li class="row" ng-repeat="field in form.formfields" data-index="{{$index}}" style="padding-bottom: 10px;">
			        
			          <div class="panel panel-default">
			            <div class="panel-heading" data-toggle="collapse" data-parent="#proposalAccordian" data-target="#newFiled{{field.fieldid}}">
			                <div class="row">
			                	<div class="col-md-3 col-sm-3 col-xs-3">
			                		<h4 class="panel-title">
					                    {{field.fieldtitle}}
					                </h4>
			                	</div>
			                	<div class="col-md-9 col-sm-9 col-xs-9 pull-right">
			                	
			                		<div class="col-md-12 col-sm-12 col-xs-12 pull-right" align="right">
			                       		<div class="col-md-6 col-sm-6 col-xs-6" >
			                       			<label>&nbsp;&nbsp;Required:</label>
			                       		</div>
			                       		<div class="col-md-6 col-sm-6 col-xs-6">
			                       			<label>
				                                <input type="radio" ng-value="true" ng-selected ng-model="field.fieldrequired"/>
				                                &nbsp; Yes
				                            </label>
				                            <label>
				                                <input type="radio" ng-value="false" ng-model="field.fieldrequired"/>
				                                &nbsp; No
				                            </label>
				                         </div>
					                 </div>	
			                	</div>
			                </div>
			                
			                
			            </div>
			            <div id="newFiled{{field.fieldid}}" class="panel-collapse collapse">
			                <div class="panel-body">
			                    <div class="col-md-12 col-sm-12 col-xs-12 Content-containerClass">
									<div class="accordion-edit">
					                    
					
					                    <!-- <div class="row">
					                        <div class="">Field ID: {{field.fieldid}}</div>
					                        
					                    	</div> -->
					                    <div class="row">
		<!-- 			                        <div class="col-md-6 col-sm-6 col-xs-6">
					                        	Field Type: {{field.fieldtype}}
					                        	
					                        </div> -->
					                        <div class="col-md-12 col-sm-12 col-xs-12">
					                        	<div class="col-md-10 col-sm-10 col-xs-10">
					                        	
					                        	<div class="col-md-3 col-sm-12 col-xs-12">
												<label>Field Title:</label>
												</div>
												<div class="col-md-3 col-sm-12 col-xs-12">
													<input type="text" ng-model="field.fieldtitle" class="form-control" style="width: 150px;" value="{{field.fieldtitle}}">
												</div>
												
												<div class="col-md-3 col-sm-12 col-xs-12">
													<label>&nbsp;&nbsp;Field Placeholder :</label>
												</div>
												<div class="col-md-3 col-sm-12 col-xs-12">
													<input type="text" ng-model="field.fieldvalue" class="form-control" style="width: 150px;" value="{{field.fieldvalue}}">
												</div>
					                        	<!-- <div class="col-md-3 col-sm-12 col-xs-12">Change Field Type:  </div>
					                        	<div class="col-md-3 col-sm-12 col-xs-12">
					                        		<select ng-model="field.fieldtype" ng-options="type.name as type.value for type in addField.types" class="form-control"></select>
					                        	</div> -->
					                       			  	
					                        	</div>
					                       		<div class="col-md-2 col-sm-2 col-xs-2">
					                       			<button class="btn btn-danger pull-right" type="button" ng-click="deleteField($index+1)"><i class="fa fa-trash-o"></i> Delete</button>
					                       		</div>
					                        
					                        	
					                        </div>
					                        
					                    </div>
					
					                    <div class="clearfix"></div> <hr>
										
										<div class="col-md-12 col-sm-12 col-xs-12">
											
											
										
										<!-- </div>
										<div class="col-md-12 col-sm-12 col-xs-12"> -->
											
										
										</div>
										<!-- <table class="form-group">
											<tr>
												<td> &nbsp;&nbsp;</td>
												<td></td>
											</tr>
											<tr>
												<td> &nbsp;&nbsp;</td>
												<td> </td>
												
												
											</tr>
										</table> -->
					                    <div class="">
					                        
					                        
					                    </div>
					                    <div class="form-group">
					                        
					                       
					                    </div>
					                    <div class="form-group" ng-show="showAddOptions(field.fieldtype)">
					                    <hr>
					                        <label>Field Options:</label>
					                        <div class="">
					                            <div ng-repeat="option in field.fieldoptions">
					                                <input type="text" ng-model="option.optiontitle" value="{{option.optiontitle}}">
					                                <a class="btn btn-danger btn-mini right" type="button" ng-click="deleteOption(field, option)"><i class="fa fa-trash-o"></i></a>
					                               <!--  <span class="label label-info">Value: {{ option.optionvalue }}</span> -->
					                            </div>
					                            <button class="btn btn-primary btn-small" type="button" ng-click="addOption(field)"><i class="fa fa-plus"></i> Add Option</button>
					                        </div>
					                    </div>
					
										
					                </div>
								</div>
			                </div>
			            </div>
		       		 </div>
			        
			      
					
		        </li>
		        
				</ul>
	       </div>
	        
	        <div class="col-md-12 col-sm-12 col-xs-12">
	        	<p class="text-center">
		            <button class="btn btn-primary right" type="button" ng-click="previewOn()"><i class="icon-eye-open icon-white"></i> Preview Form</button>
		            <button class="btn btn-danger right" type="button" ng-click="reset()"><i class="icon-refresh icon-white"></i> Reset</button>
		             <button class="btn btn-info right" type="button" ng-click="saveFormBuilderDataData(form)"><i class="icon-eye-open icon-white"></i> save</button>
		        </p>
	        </div>
        </div>
        <hr>
        <!-- <div class="col-md-12 col-sm-12 col-xs-12">
        	<div class="text-center">
				<a class="btn btn-small btn-primary" ng-show="!showJson" ng-click="showJson = true">Show form json object</a>
				<a class="btn btn-small btn-inverse" ng-show="showJson" ng-click="showJson = false">Hide form json object</a><br><br>
			</div>
        
        </div> -->
        <div class="col-md-12 col-sm-12 col-xs-12">
        	<div ng-show="showJson">
	            <h4>Form object content:</h4>
	            <pre>{{ form | json }}</pre>
	        </div>
        </div>
        
        

        

		

        
    </div>

    <div class="form-fields-preview" ng-show="previewMode">
        <div class="col-md-12 col-sm-12 col-xs-12">
        	 <form-directive form="previewForm"></form-directive>
        </div>
       
		
		<div class="modal-footer col-md-12 col-sm-12 col-xs-12">
			<p class="text-center">
            	<button class="btn btn-primary btn-large right" type="button" ng-click="previewOff()"><i class="icon-arrow-left icon-white"></i> Back to Create Mode</button>
        	</p>
		</div>
        
    </div>
</div>

